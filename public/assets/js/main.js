!function(){"use strict";let e=(e,t=!1)=>(e=e.trim(),t)?[...document.querySelectorAll(e)]:document.querySelector(e),t=(t,s,a,l=!1)=>{l?e(s,l).forEach(e=>e.addEventListener(t,a)):e(s,l).addEventListener(t,a)},s=(e,t)=>{e.addEventListener("scroll",t)};e(".toggle-sidebar-btn")&&t("click",".toggle-sidebar-btn",function(t){e("body").classList.toggle("toggle-sidebar")}),e(".search-bar-toggle")&&t("click",".search-bar-toggle",function(t){e(".search-bar").classList.toggle("search-bar-show")});let a=e("#navbar .scrollto",!0),l=()=>{let t=window.scrollY+200;a.forEach(s=>{if(!s.hash)return;let a=e(s.hash);a&&(t>=a.offsetTop&&t<=a.offsetTop+a.offsetHeight?s.classList.add("active"):s.classList.remove("active"))})};window.addEventListener("load",l),s(document,l);let r=e("#header");if(r){let i=()=>{window.scrollY>100?r.classList.add("header-scrolled"):r.classList.remove("header-scrolled")};window.addEventListener("load",i),s(document,i)}let o=e(".back-to-top");if(o){let n=()=>{window.scrollY>100?o.classList.add("active"):o.classList.remove("active")};window.addEventListener("load",n),s(document,n)}[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(e){return new bootstrap.Tooltip(e)}),e(".quill-editor-default")&&new Quill(".quill-editor-default",{theme:"snow"}),e(".quill-editor-bubble")&&new Quill(".quill-editor-bubble",{theme:"bubble"}),e(".quill-editor-full")&&new Quill(".quill-editor-full",{modules:{toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["link","image","video"],["clean"]]},theme:"snow"});var c=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(c).forEach(function(e){e.addEventListener("submit",function(t){e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")},!1)}),$("#searchField").on("input",function(){let e=$(this).val();""!==e?jQuery.ajax({url:base_url+"search_staff",method:"POST",data:{query:e},success:function(e){var t;t=e,$("#searchResults").empty(),t=JSON.parse(t),console.log(t),t.length>0?(t.forEach(function(e){var t=$("<li>"+e.name+"</li>");$("#searchResults").append(t),t.on("click",function(){$("#searchField").val(e.name),$("#userIdField").val(e.id),$("#searchResults").hide()})}),$("#searchResults").show()):$("#searchResults").hide()}}):$("#searchResults").hide()}),$(document).on("click",function(e){$(e.target).closest(".col-md-4").length||$("#searchResults").hide()}),$("#searchResults").on("click","li",function(){$("#searchField").val($(this).text()),$("#searchResults").hide()}),$(".attendance").DataTable({lengthMenu:[[100,50,-1],[100,50,"All"]],pageLength:100,dom:"Bfrtip",buttons:["excel","print"],columnDefs:[{type:"datetime-moment",targets:[5]}],order:[[5,"desc"]]}),$(".datatable").DataTable({lengthMenu:[[100,50,-1],[100,50,"All"]],pageLength:100,dom:"Bfrtip",buttons:["excel","print"],columnDefs:[{type:"datetime-moment",targets:[1]}],order:[[1,"desc"]]}),$(".userstable").DataTable({lengthMenu:[[300,100,50,-1],[300,100,50,"All"]],pageLength:300,order:[[0,"asc"]]}),$(".logs-table").DataTable({lengthMenu:[[100,50,-1],[100,50,"All"]],pageLength:100,columnDefs:[{type:"datetime-moment",targets:[2]}],order:[[2,"desc"]]}),$(".disable-user").on("click",function(e){if(e.preventDefault(),confirm("Are you sure you want to disable this user?")){var t=$(this).data("id"),s=$(this).closest("tr");$.ajax({url:base_url+"disable_user/"+t,type:"POST",success:function(e){e.success?s.find("td:eq(4)").text("Disabled"):alert(e.message)},error:function(){alert("An error occurred. Please try again.")}})}}),$(".enable-user").on("click",function(e){if(e.preventDefault(),confirm("Are you sure you want to activate this user?")){var t=$(this).data("id"),s=$(this).closest("tr");$.ajax({url:base_url+"enable_user/"+t,type:"POST",success:function(e){e.success?s.find("td:eq(4)").text("Active"):alert(e.message)},error:function(){alert("An error occurred. Please try again.")}})}});let d=e("#main");d&&setTimeout(()=>{new ResizeObserver(function(){e(".echart",!0).forEach(e=>{echarts.getInstanceByDom(e).resize()})}).observe(d)},200)}(),$("#current-password-toggle").click(function(){var e=$("#current-password-field"),t=$("#current-password-toggle");"password"==e.attr("type")?(e.attr("type","text"),t.html('<i class="bi bi-eye-slash"></i>')):(e.attr("type","password"),t.html('<i class="bi bi-eye" aria-hidden="true"></i>'))}),$("#new-password-toggle").click(function(){var e=$("#new-password-field"),t=$("#new-password-toggle");"password"==e.attr("type")?(e.attr("type","text"),t.html('<i class="bi bi-eye-slash" aria-hidden="true"></i>')):(e.attr("type","password"),t.html('<i class="bi bi-eye" aria-hidden="true"></i>'))}),$("#confirm-password-toggle").click(function(){var e=$("#confirm-password-field"),t=$("#confirm-password-toggle");"password"==e.attr("type")?(e.attr("type","text"),t.html('<i class="bi bi-eye-slash"></i>')):(e.attr("type","password"),t.html('<i class="bi bi-eye"></i>'))});